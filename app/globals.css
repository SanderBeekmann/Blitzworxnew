@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Palette */
  --ink-black: #040711;
  --ebony: #545c52;
  --grey-olive: #8b8174;
  --dry-sage: #cacaaa;
  --cornsilk: #fefadc;

  /* Semantic tokens */
  --color-section-bg: var(--ink-black);

  /* 60-30-10: 60% neutral, 30% secondary, 10% accent */
  --color-neutral: var(--ink-black);
  --color-neutral-bg: var(--cornsilk);
  --color-secondary: var(--ebony);
  --color-accent: var(--ebony);
  --color-accent-hover: var(--ink-black);

  /* CTA tokens */
  --cta-secondary-border: var(--cornsilk);
  --cta-secondary-text: var(--cornsilk);
  --cta-secondary-hover-bg: var(--cornsilk);
  --cta-secondary-hover-text: var(--ink-black);
  --font-base: 16px;
  --container-max: 1200px;
  --gutter: 24px;
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-2xl: 64px;
}

@layer base {
  html {
    font-size: var(--font-base);
    scroll-behavior: smooth;
    /* Hide scrollbar, keep scroll functionality */
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  html::-webkit-scrollbar {
    display: none;
  }

  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }
  }

  body {
    @apply bg-ink text-cornsilk antialiased overflow-x-hidden;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  body::-webkit-scrollbar {
    display: none;
  }

  /* Focus visible for accessibility */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-dry-sage;
  }
}

@layer components {
  .container-narrow {
    @apply mx-auto w-full max-w-container px-4 sm:px-6 lg:px-8;
  }

  .hero-title-depth {
    text-shadow:
      0 1px 2px rgba(4, 7, 17, 0.2),
      0 2px 12px rgba(4, 7, 17, 0.12),
      0 0 40px rgba(254, 250, 220, 0.035);
  }

  .section {
    @apply py-16;
    background-color: var(--color-section-bg);
  }

  @media (min-width: 768px) {
    .section {
      @apply py-24;
    }
  }

  /* Secondary CTA: outline with fill from bottom on hover */
  .btn-secondary-cta {
    @apply relative overflow-hidden;
    border: 2px solid var(--cta-secondary-border);
    color: var(--cta-secondary-text);
    transition: color 0.3s ease-out, box-shadow 0.3s ease-out;
  }

  .btn-secondary-cta:hover,
  .btn-secondary-cta:focus-visible {
    color: var(--cta-secondary-hover-text);
    box-shadow: 0 0 32px rgba(254, 250, 220, 0.16);
  }

  .btn-secondary-cta::before {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    height: 0;
    background: var(--cta-secondary-hover-bg);
    transition: height 0.3s ease-out;
    z-index: -1;
  }

  .btn-secondary-cta:hover::before,
  .btn-secondary-cta:focus-visible::before {
    height: 100%;
  }

  @media (prefers-reduced-motion: reduce) {
    .btn-secondary-cta,
    .btn-secondary-cta::before {
      transition: none;
    }
    .btn-secondary-cta:hover,
    .btn-secondary-cta:focus-visible {
      box-shadow: none;
    }
  }
}

@keyframes scroll-indicator {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(24px);
  }
}

@media (prefers-reduced-motion: reduce) {
  @keyframes scroll-indicator {
    0%,
    100%,
    50% {
      transform: translateY(0);
    }
  }
}
